{
  "id": "tutorial/first-app/first-app-lesson-13",
  "title": "Lesson 13 - Add the search feature to your app",
  "contents": "\n\n\n<div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/edit/cn/aio/content/tutorial/first-app/first-app-lesson-13.md?message=docs%3A%20请简述你的修改...\" aria-label=\"提供编辑建议\" title=\"提供编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n</div>\n\n\n<div class=\"content\">\n  <h1 id=\"lesson-13---add-the-search-feature-to-your-app\">Lesson 13 - Add the search feature to your app<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#lesson-13---add-the-search-feature-to-your-app\"><i class=\"material-icons\">link</i></a></h1>\n<h1 id=\"第-13-课---将搜索功能添加到应用程序中\">第 13 课 - 将搜索功能添加到应用程序中<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#第-13-课---将搜索功能添加到应用程序中\"><i class=\"material-icons\">link</i></a></h1>\n<p>This tutorial lesson demonstrates how to add a search functionality to your Angular app.</p>\n<p>本教程示范了如何向 Angular 应用程序添加搜索功能。</p>\n<p>The app will enable users to search through the data provided by your app and display only the results that match the entered term.</p>\n<p>该应用程序将使用户能够搜索应用程序提供的数据，并且只显示与输入的字词匹配的结果。</p>\n<p><strong>Time required:</strong> expect to spend about 20 minutes to complete this lesson.</p>\n<p><strong>所需时间：</strong> 完成这节课预计需要 20 分钟左右。</p>\n<h2 id=\"before-you-start\">Before you start<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#before-you-start\"><i class=\"material-icons\">link</i></a></h2>\n<h2 id=\"开始之前\">开始之前<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#开始之前\"><i class=\"material-icons\">link</i></a></h2>\n<p>This lesson starts with the code from the previous lesson, so you can:</p>\n<p>这节课以上一课的代码为起点，你可以：</p>\n<ul>\n<li>\n<p>Use the code that you created in Lesson 12 in your integrated development environment (IDE).</p>\n<p>在集成开发环境（IDE）中使用你在第 12 课中创建的代码。</p>\n</li>\n<li>\n<p>Start with the code example from the previous lesson. Choose the <live-example name=\"first-app-lesson-12\"></live-example> from Lesson 12 where you can:</p>\n<p>从上一课的代码示例开始。选择<live-example name=\"first-app-lesson-12\"></live-example>，以便</p>\n<ul>\n<li>\n<p>Use the <em>live example</em> in StackBlitz, where the StackBlitz interface is your IDE.</p>\n<p>使用 StackBlitz 中的<em>在线例子</em>，其中 StackBlitz 的界面就是你的 IDE。</p>\n</li>\n<li>\n<p>Use the <em>download example</em> and open it in your IDE.</p>\n<p>使用<em>下载示例</em>并在你的 IDE 中打开它。</p>\n</li>\n</ul>\n</li>\n</ul>\n<p>If you haven't reviewed the introduction, visit the <a href=\"tutorial/first-app\">Introduction to Angular tutorial</a> to make sure you have everything you need to complete this lesson.</p>\n<p>如果你还没看过简介，请访问 <a href=\"tutorial/first-app\">Angular 教程简介</a>以确保你已具备完成这节课所需的一切知识。</p>\n<p>If you have any trouble during this lesson, you can review the completed code for this lesson, in the <live-example></live-example> for this lesson.</p>\n<p>如果你在这节课中遇到任何问题，可以查看这节课的完整代码，参见<live-example></live-example>。</p>\n<h2 id=\"after-you-finish\">After you finish<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#after-you-finish\"><i class=\"material-icons\">link</i></a></h2>\n<h2 id=\"完成之后\">完成之后<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#完成之后\"><i class=\"material-icons\">link</i></a></h2>\n<ul>\n<li>\n<p>Your app will use data from a form to search for matching housing locations</p>\n<p>应用程序将使用表单中的数据来搜索相匹配的房屋位置</p>\n</li>\n<li>\n<p>Your app will display only the matching housing locations</p>\n<p>应用程序将仅显示匹配的房屋位置</p>\n</li>\n</ul>\n<h2 id=\"lesson-steps\">Lesson steps<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#lesson-steps\"><i class=\"material-icons\">link</i></a></h2>\n<h2 id=\"课程步骤\">课程步骤<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#课程步骤\"><i class=\"material-icons\">link</i></a></h2>\n<p>Perform these steps on the app code in your IDE.</p>\n<p>在 IDE 中对应用程序代码执行下列步骤。</p>\n<h3 id=\"step-1---update-the-home-component-properties\">Step 1 - Update the home component properties<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#step-1---update-the-home-component-properties\"><i class=\"material-icons\">link</i></a></h3>\n<h3 id=\"第-1-步---更新-home-组件属性\">第 1 步 - 更新 home 组件属性<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#第-1-步---更新-home-组件属性\"><i class=\"material-icons\">link</i></a></h3>\n<p>In this step, you'll update the <code>HomeComponent</code> class to store data in a new array property that you will use for filtering.</p>\n<p>在此步骤中，你将更新 <code>HomeComponent</code> 类以将数据存储在供过滤的新数组属性中。</p>\n<ol>\n<li>\n<p>In <code>src/app/home/home.component.ts</code>, add new property to the class called <code>filteredLocationList</code>.</p>\n<p>在 <code>src/app/home/home.component.ts</code> 中，将新属性添加到名为 <code>filteredLocationList</code> 的类中。</p>\n<code-example header=\"Add the filtered results property\" path=\"first-app-lesson-13/src/app/home/home.component.ts\" region=\"add-filtered-location-list\">\nfilteredLocationList: HousingLocation[] = [];\n\n</code-example>\n<p>The <code>filteredLocationList</code> hold the values that match the search criteria entered by the user.</p>\n<p><code>filteredLocationList</code> 持有与用户输入的搜索条件相匹配的值。</p>\n</li>\n<li>\n<p>The <code>filteredLocationList</code> should contain the total set of housing locations values by default when the page loads. Update the <code>constructor</code> for the <code>HomeComponent</code> to set the value.</p>\n<p>页面加载时，<code>filteredLocationList</code> 应默认包含所有房屋位置值。更新 <code>HomeComponent</code> 的 <code>constructor</code> 以设置值。</p>\n<code-example header=\"Set the value of filteredLocationList\" path=\"first-app-lesson-13/src/app/home/home.component.ts\" region=\"update-constructor\">\nconstructor() {\n  this.housingLocationList = this.housingService.getAllHousingLocations();\n  this.filteredLocationList = this.housingLocationList;\n}\n\n</code-example>\n</li>\n</ol>\n<h3 id=\"step-2---update-the-home-component-template\">Step 2 - Update the home component template<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#step-2---update-the-home-component-template\"><i class=\"material-icons\">link</i></a></h3>\n<h3 id=\"第-2-步---更新-home-组件模板\">第 2 步 - 更新 home 组件模板<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#第-2-步---更新-home-组件模板\"><i class=\"material-icons\">link</i></a></h3>\n<p>The <code>HomeComponent</code> already contains an input field that you will use to capture input from the user. That string text will be used to filter the results.</p>\n<p><code>HomeComponent</code> 已经包含一个输入字段，你将使用它来捕获用户的输入。该字符串文本将用于过滤结果。</p>\n<ol>\n<li>\n<p>Update the <code>HomeComponent</code> template to include a template variable in the input called <code>#filter</code>.</p>\n<p>更新 <code>HomeComponent</code> 模板以在名为 <code>#filter</code> 的输入中包含一个模板变量。</p>\n<code-example header=\"Add a template variable to HomeComponent&#x27;s template\" format=\"html\" language=\"html\">\n    &#x3C;input type=\"text\" placeholder=\"Filter by city\" #filter>\n</code-example>\n<p>This example uses a <a href=\"/guide/template-reference-variables\">template variable</a> to get access to the input as its value.</p>\n<p>此示例使用<a href=\"/guide/template-reference-variables\">模板变量</a>来访问输入框作为其值。</p>\n</li>\n<li>\n<p>Next, update the component template to attach an event handler to the \"search\" button.</p>\n<p>接下来，更新组件模板以将事件处理程序附加到“搜索”按钮上。</p>\n<code-example header=\"Bind the click event\" format=\"html\" language=\"html\">\n    &#x3C;button class=\"primary\" type=\"button\" (click)=\"filterResults(filter.value)\">Search&#x3C;/button>\n</code-example>\n<p>By binding to the click event on the button, you are able to call the <code>filterResults</code> function. The argument to the function is the <code>value</code> property of the <code>filter</code> template variable. Specifically, the <code>.value</code> property from the <code>input</code> HTML element.</p>\n<p>通过绑定到按钮上的单击事件，你可以调用 <code>filterResults</code> 函数。该函数的参数是 <code>filter</code> 模板变量的 <code>value</code> 属性。具体来说，<code>input</code> HTML 元素中的 <code>.value</code> 属性。</p>\n</li>\n<li>\n<p>The last template update is to the <code><a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a></code> directive. Update the <code><a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a></code> value to iterate over values from the <code>filteredLocationList</code> array.</p>\n<p>最后的模板更新是针对 <code><a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a></code> 指令的。更新 <code><a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a></code> 值以迭代 <code>filteredLocationList</code> 数组中的值。</p>\n<code-example header=\"Update the ngFor directive value\" format=\"html\" language=\"html\">\n    &#x3C;app-housing-location *<a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a>=\"let housingLocation of filteredLocationList\" [housingLocation]=\"housingLocation\">&#x3C;/app-housing-location>\n</code-example>\n</li>\n</ol>\n<h3 id=\"step-3---implement-the-event-handler-function\">Step 3 - Implement the event handler function<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#step-3---implement-the-event-handler-function\"><i class=\"material-icons\">link</i></a></h3>\n<h3 id=\"第-3-步---实现事件处理函数\">第 3 步 - 实现事件处理函数<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#第-3-步---实现事件处理函数\"><i class=\"material-icons\">link</i></a></h3>\n<p>The template has been updated to bind the <code>filterResults</code> function to the <code>click</code> event. Next, your task is to implement the <code>filterResults</code> function in the <code>HomeComponent</code> class.</p>\n<p>模板已更新为将 <code>filterResults</code> 函数绑定到 <code>click</code> 事件。接下来，你的任务是在 <code>HomeComponent</code> 类中实现 <code>filterResults</code> 函数。</p>\n<ol>\n<li>\n<p>Update the <code>HomeComponent</code> class to include the implementation of the <code>filterResults</code> function.</p>\n<p>更新 <code>HomeComponent</code> 类以包含 <code>filterResults</code> 函数的实现。</p>\n<code-example header=\"Add the filterResults function implementation\" path=\"first-app-lesson-13/src/app/home/home.component.ts\" region=\"add-filter-results-fn\">\nfilterResults(text: string) {\n  if (!text) {\n    this.filteredLocationList = this.housingLocationList;\n  }\n\n  this.filteredLocationList = this.housingLocationList.filter(\n    housingLocation => housingLocation?.city.toLowerCase().includes(text.toLowerCase())\n  );\n}\n\n</code-example>\n<p>This function uses the <code>String</code> filter function to compare the value of the <code>text</code> parameter against the <code>housingLocation.city</code> property. You can update this function to match against any property or multiple properties for a fun exercise.</p>\n<p>此函数使用 <code>String</code> 过滤器函数将 <code>text</code> 参数的值与 <code>housingLocation.city</code> 属性进行比较。你可以更新此函数以匹配任何属性或多个属性以进行有趣的练习。</p>\n</li>\n<li>\n<p>Save your code.</p>\n<p>保存你的代码。</p>\n</li>\n<li>\n<p>Refresh the browser and confirm that you can search the housing location data by city when you click the \"Search\" button after entering text.</p>\n<p>刷新浏览器，输入文字后点击“搜索”按钮，确认这样可以按城市搜索房源位置数据。</p>\n</li>\n</ol>\n<section class=\"lightbox\">\n<img alt=\"filtered search results based on user input\" src=\"generated/images/guide/faa/homes-app-lesson-13-step-3.png\" width=\"2342\" height=\"1964\">\n</section>\n<h2 id=\"lesson-review\">Lesson review<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#lesson-review\"><i class=\"material-icons\">link</i></a></h2>\n<h2 id=\"课程回顾\">课程回顾<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#课程回顾\"><i class=\"material-icons\">link</i></a></h2>\n<p>In this lesson, you updated your app to:</p>\n<p>在这节课中，你将应用更新为：</p>\n<ul>\n<li>\n<p>use template variables to interact with template values</p>\n<p>使用模板变量与模板值交互</p>\n</li>\n<li>\n<p>add search functionality using event binding and array functions</p>\n<p>使用事件绑定和数组函数来添加搜索功能</p>\n</li>\n</ul>\n<p>If you are having any trouble with this lesson, you can review the completed code for it in the <live-example></live-example>.</p>\n<p>如果你在学习这节课时遇到了任何问题，可以在<live-example></live-example>查看完整代码。</p>\n<h2 id=\"next-steps\">Next steps<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#next-steps\"><i class=\"material-icons\">link</i></a></h2>\n<h2 id=\"下一步\">下一步<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#下一步\"><i class=\"material-icons\">link</i></a></h2>\n<ul>\n<li>\n<p><a href=\"tutorial/first-app/first-app-lesson-14\">Lesson 14 - Add HTTP communication to your app</a></p>\n<p><a href=\"tutorial/first-app/first-app-lesson-14\">第 14 课 - 为应用程序添加 HTTP 通信</a></p>\n</li>\n</ul>\n<h2 id=\"more-information\">More information<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#more-information\"><i class=\"material-icons\">link</i></a></h2>\n<h2 id=\"更多信息\">更多信息<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#更多信息\"><i class=\"material-icons\">link</i></a></h2>\n<p>For more information about the topics covered in this lesson, visit:</p>\n<p>有关这节课中涵盖的主题的更多信息，请访问：</p>\n<ul>\n<li>\n<p><a href=\"/guide/template-reference-variables\">Template Variables</a></p>\n<p><a href=\"/guide/template-reference-variables\">模板变量</a></p>\n</li>\n<li>\n<p><a href=\"/guide/event-binding\">Event Handling</a></p>\n<p><a href=\"/guide/event-binding\">事件处理</a></p>\n</li>\n</ul>\n\n  \n</div>\n\n\n<!-- links to this doc:\n - tutorial/first-app/first-app-lesson-12\n-->\n<!-- links from this doc:\n - /guide/event-binding\n - /guide/template-reference-variables\n - api/common/NgFor\n - tutorial/first-app\n - tutorial/first-app/first-app-lesson-13#after-you-finish\n - tutorial/first-app/first-app-lesson-13#before-you-start\n - tutorial/first-app/first-app-lesson-13#lesson-13---add-the-search-feature-to-your-app\n - tutorial/first-app/first-app-lesson-13#lesson-review\n - tutorial/first-app/first-app-lesson-13#lesson-steps\n - tutorial/first-app/first-app-lesson-13#more-information\n - tutorial/first-app/first-app-lesson-13#next-steps\n - tutorial/first-app/first-app-lesson-13#step-1---update-the-home-component-properties\n - tutorial/first-app/first-app-lesson-13#step-2---update-the-home-component-template\n - tutorial/first-app/first-app-lesson-13#step-3---implement-the-event-handler-function\n - tutorial/first-app/first-app-lesson-13#下一步\n - tutorial/first-app/first-app-lesson-13#完成之后\n - tutorial/first-app/first-app-lesson-13#开始之前\n - tutorial/first-app/first-app-lesson-13#更多信息\n - tutorial/first-app/first-app-lesson-13#第-1-步---更新-home-组件属性\n - tutorial/first-app/first-app-lesson-13#第-13-课---将搜索功能添加到应用程序中\n - tutorial/first-app/first-app-lesson-13#第-2-步---更新-home-组件模板\n - tutorial/first-app/first-app-lesson-13#第-3-步---实现事件处理函数\n - tutorial/first-app/first-app-lesson-13#课程回顾\n - tutorial/first-app/first-app-lesson-13#课程步骤\n - tutorial/first-app/first-app-lesson-14\n - https://github.com/ng-docs/angular-cn/edit/cn/aio/content/tutorial/first-app/first-app-lesson-13.md?message=docs%3A%20请简述你的修改...\n-->"
}